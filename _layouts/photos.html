---
layout: default
---

{% include lang.html %}

<style>
  /* Theme-aware card styling */
  .photo-album-card {
    background-color: var(--card-bg);
    border: 1px solid var(--card-border-color);
    border-radius: 0.375rem;
    overflow: hidden;
  }

  /* Make entire card clickable */
  .photo-album-card {
    cursor: pointer;
  }

  /* Album thumbnail using background-image to avoid lightbox */
  .photo-album-card .album-thumbnail {
    position: relative;
    overflow: hidden;
    cursor: pointer;
    height: 250px;
    width: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .photo-album-card .card-body {
    padding: 1rem;
  }

  /* Light mode */
  [data-mode="light"] .photo-album-card {
    --card-bg: #ffffff;
    --card-border-color: #dee2e6;
  }

  /* Dark mode */
  [data-mode="dark"] .photo-album-card {
    --card-bg: #1e1e1e;
    --card-border-color: #3d3d3d;
  }
</style>

<script>
  // Make album cards clickable and prevent lightbox
  document.addEventListener('DOMContentLoaded', function() {
    const albumCards = document.querySelectorAll('.photo-album-card');

    albumCards.forEach(function(card) {
      const albumUrl = card.getAttribute('data-album-url');
      const thumbnail = card.querySelector('.album-thumbnail');

      // Set thumbnail background image to avoid theme wrapping it in lightbox link
      if (thumbnail) {
        const thumbnailUrl = thumbnail.getAttribute('data-thumbnail-url');
        const thumbnailAlt = thumbnail.getAttribute('data-thumbnail-alt');

        if (thumbnailUrl) {
          thumbnail.style.backgroundImage = 'url(' + thumbnailUrl + ')';
          thumbnail.setAttribute('role', 'img');
          thumbnail.setAttribute('aria-label', thumbnailAlt);
        }
      }

      // Click handler on the entire card
      card.addEventListener('click', function(e) {
        // Don't interfere with View Album button
        if (e.target.closest('.btn')) {
          return;
        }

        // Navigate to album
        if (albumUrl) {
          window.location.href = albumUrl;
        }
      });
    });
  });
</script>

<article class="px-1">
  <h1 class="dynamic-title">My photos</h1>

  <div class="content">
    {% if site.data.photo_albums.size > 0 %}
      <div class="row">
        {% for album in site.data.photo_albums %}
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="photo-album-card" data-album-url="{{ album.url | relative_url }}">
              {% if album.thumbnail_url %}
                <div class="album-thumbnail" data-thumbnail-url="{{ album.thumbnail_url | relative_url }}" data-thumbnail-alt="{{ album.title }}">
                  <!-- Image will be added via JavaScript as background to prevent theme lightbox -->
                </div>
              {% endif %}
              <div class="card-body">
                <h5 class="card-title">{{ album.title }}</h5>
                {% if album.date %}
                  <p class="card-text text-muted">
                    <small>{{ album.date | date: "%B %d, %Y" }}</small>
                  </p>
                {% endif %}
                <p class="card-text">
                  <i class="fas fa-images"></i> {{ album.photo_count }} photo{% if album.photo_count != 1 %}s{% endif %}
                </p>
                <a href="{{ album.url | relative_url }}" class="btn btn-primary btn-sm">View Album</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-info" role="alert">
        <i class="fas fa-info-circle"></i> No photo albums found. Add photos to the <code>photos/albums/</code> directory to get started.
      </div>
      <p>
        To create a new album, create a folder in <code>photos/albums/</code> with the format:
        <code>YYYY-MM-DD-album-name</code> (e.g., <code>2025-12-12-paris</code>) and add your images.
      </p>
    {% endif %}
  </div>
</article>
