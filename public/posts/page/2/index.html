<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | metalelf0.github.io</title>
<meta name=keywords content><meta name=description content="Posts - metalelf0.github.io"><meta name=author content="metalelf0"><link rel=canonical href=http://localhost:1313/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/posts/index.xml><link rel=alternate hreflang=en href=http://localhost:1313/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/"><meta property="og:site_name" content="metalelf0.github.io"><meta property="og:title" content="Posts"><meta property="og:description" content="Andrea Schiavini is a ruby developer based in Milan, Italy"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Andrea Schiavini is a ruby developer based in Milan, Italy"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="metalelf0.github.io (Alt + H)">metalelf0.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Null objects in Rails</h2></header><div class=entry-content><p>The problem Recently I’ve seen in a project I work on a lot of occurrences of this code:
if user.privacy && user.privacy.enables_page?(...) The first part of the condition above is a bad practice in object oriented design. It forces collaborators of user to know a part of its implementation
it could have a privacy or it couldn’t. What we want Wouldn’t it be much better to just write this:
if user.privacy.enables_page?(...) Hiding the responsibility inside the user class? It would be much cleaner and follow the Tell, don’t ask principle.
...</p></div><footer class=entry-footer><span title='2013-12-23 00:00:00 +0000 UTC'>December 23, 2013</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;metalelf0</footer><a class=entry-link aria-label="post link to Null objects in Rails" href=http://localhost:1313/posts/old-website/2013-12-23-null-objects-in-rails/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Fluentd usage example with bash and ruby</h2></header><div class=entry-content><p>Fluentd is an open source tool to collect events and logs. Its architecture allows to easily collect logs from different input sources and redirect them to different output sinks. Some input examples are HTTP, syslog, or apache logs, and some output sinks are files, mail, and databases (both RDBMS and NoSQL ones). Also, it allows to parse logs and to extract only the significative parts from each of them; saving this structured information on a DB allows much easier log searching and analysis.
...</p></div><footer class=entry-footer><span title='2013-08-09 00:00:00 +0000 UTC'>August 9, 2013</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;metalelf0</footer><a class=entry-link aria-label="post link to Fluentd usage example with bash and ruby" href=http://localhost:1313/posts/old-website/2013-08-09-fluentd-usage-example-with-bash-and-ruby/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Easily change the path for your Paperclip attachments</h2></header><div class=entry-content><p>Today after releasing an app to production environment I saw a couple of paperclip warnings like this in my production.log file:
[paperclip] Duplicate URL for round_image with /system/:attachment/:id/:style/:filename. This will clash with attachment defined in PageElements::FranchisingCarouselEntry class This happens because I defined an attachment with the same name in two different models, and the default strategy Paperclip uses to choose attachment locations could lead to filename clashing.
Here is a more detailed example:
...</p></div><footer class=entry-footer><span title='2012-12-10 00:00:00 +0000 UTC'>December 10, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;metalelf0</footer><a class=entry-link aria-label="post link to Easily change the path for your Paperclip attachments" href=http://localhost:1313/posts/old-website/2012-12-10-easily-change-the-path-for-your-paperclip-attachments/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Vim regexp example: make a variable out of params</h2></header><div class=entry-content><p>Today I wrote a regexp to change params[:page] into page. Here you are:
:'&lt;,'>s/params\[:\(\p\{-}\)\]/\1/g Let’s explain it briefly:
the first part, :'&lt;,'>s/, is the vim command to substitute a pattern (or a regexp) with another one. The &lt;,'> part tells vim to operate on the visually selected text.
the second part is the trickiest one. Let’s see it part to part:
params\[: is the first part of the string we want to match. the \ is used to escape the [ character.
...</p></div><footer class=entry-footer><span title='2012-07-09 00:00:00 +0000 UTC'>July 9, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;metalelf0</footer><a class=entry-link aria-label="post link to Vim regexp example: make a variable out of params" href=http://localhost:1313/posts/old-website/2012-07-09-vim-regexp-example/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Add bundle dir to your ctags</h2></header><div class=entry-content><p>Ctags are a great way to improve navigation between large codebases. Used together with vim they allow to quickly jump to any method definition with just a keystroke - C-]. Adding your bundle dir when generating the tags file will allow jumping to the internals of the ruby gems you are using. Let’s see how to do this.
The setup needed is the following:
install Exuberant Ctags. I suggest using brew install ctags, and remember to fix your $PATH so that running ctags --version shows Exuberant Ctags.
...</p></div><footer class=entry-footer><span title='2012-03-26 00:00:00 +0000 UTC'>March 26, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;metalelf0</footer><a class=entry-link aria-label="post link to Add bundle dir to your ctags" href=http://localhost:1313/posts/old-website/2012-03-26-add-bundle-dir-to-your-ctags/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=http://localhost:1313/posts/>«&nbsp;Prev&nbsp;
</a><a class=next href=http://localhost:1313/posts/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>metalelf0.github.io</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>