<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Machinist vs Factory Girl: Machinist win!" /><meta property="og:locale" content="en" /><meta name="description" content="Today I decided to verify if Machinist could be a good replacement for Factory Girl. In our project, we have a big problem with Factory Girl: even if you tell her not to hit the database, using the Factory.build method, if an object has associations, these are saved on the DB. And this causes a huge slowdown in specs using factories. We’ve been using Factory Girl for nearly two years, and if we could find a way to stop him hitting the DB, we could really have a huge improvent in our test suite running time." /><meta property="og:description" content="Today I decided to verify if Machinist could be a good replacement for Factory Girl. In our project, we have a big problem with Factory Girl: even if you tell her not to hit the database, using the Factory.build method, if an object has associations, these are saved on the DB. And this causes a huge slowdown in specs using factories. We’ve been using Factory Girl for nearly two years, and if we could find a way to stop him hitting the DB, we could really have a huge improvent in our test suite running time." /><link rel="canonical" href="https://www.andreaschiavini.com/posts/machinist-vs-factory-girl-machinist-win/" /><meta property="og:url" content="https://www.andreaschiavini.com/posts/machinist-vs-factory-girl-machinist-win/" /><meta property="og:site_name" content="Andrea Schiavini" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2011-06-19T02:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Machinist vs Factory Girl: Machinist win!" /><meta name="twitter:site" content="@metalelf0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2011-06-19T02:00:00+02:00","datePublished":"2011-06-19T02:00:00+02:00","description":"Today I decided to verify if Machinist could be a good replacement for Factory Girl. In our project, we have a big problem with Factory Girl: even if you tell her not to hit the database, using the Factory.build method, if an object has associations, these are saved on the DB. And this causes a huge slowdown in specs using factories. We’ve been using Factory Girl for nearly two years, and if we could find a way to stop him hitting the DB, we could really have a huge improvent in our test suite running time.","headline":"Machinist vs Factory Girl: Machinist win!","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.andreaschiavini.com/posts/machinist-vs-factory-girl-machinist-win/"},"url":"https://www.andreaschiavini.com/posts/machinist-vs-factory-girl-machinist-win/"}</script><title>Machinist vs Factory Girl: Machinist win! | Andrea Schiavini</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Andrea Schiavini"><meta name="application-name" content="Andrea Schiavini"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JLL0M2ET40"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-JLL0M2ET40'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/metalelf0.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Andrea Schiavini</a><p class="site-subtitle fst-italic mb-0">metalelf0 personal website</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/metalelf0" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/metalelf0" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['metalelf0gmail.com',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/metalelf0" aria-label="linkedin" > <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/165339/metalelf0" aria-label="stack-overflow" > <i class="fab fa-stack-overflow"></i> </a> <a href="https://flickr.com/metalelf0" aria-label="flickr" > <i class="fab fa-flickr"></i> </a> <a href="https://www.reddit.com/user/metalelf0/" aria-label="reddit" > <i class="fa-brands fa-reddit"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Machinist vs Factory Girl: Machinist win!</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="false"><header><h1 data-toc-skip>Machinist vs Factory Girl: Machinist win!</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1308441600" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 19, 2011 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/metalelf0">Andrea Schiavini</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="357 words" > <em>1 min</em> read</span></div></div></div></header><div class="content"><p>Today I decided to verify if <a href="https://github.com/notahat/machinist">Machinist</a> could be a good replacement for <a href="https://github.com/thoughtbot/factory_girl">Factory Girl</a>. In our project, we have a big problem with Factory Girl: even if you tell her not to hit the database, using the <code class="language-plaintext highlighter-rouge">Factory.build</code> method, if an object has associations, these are saved on the DB. And this causes a huge slowdown in specs using factories. We’ve been using Factory Girl for nearly two years, and if we could find a way to stop him hitting the DB, we could really have a huge improvent in our test suite running time.</p><p>To verify if Machinist could perform better, I set up a basic rails app. Look at this example:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c1"># person.rb</span>

  <span class="n">validates_presence_of</span> <span class="ss">:address</span>

<span class="c1"># person_factory.rb</span>

  <span class="no">Factory</span><span class="p">.</span><span class="nf">define</span> <span class="ss">:person</span> <span class="k">do</span> <span class="o">|</span><span class="nb">p</span><span class="o">|</span>
    <span class="nb">p</span><span class="p">.</span><span class="nf">name</span>   <span class="s1">'John'</span>
    <span class="nb">p</span><span class="p">.</span><span class="nf">surname</span> <span class="s1">'Doe'</span>
    <span class="nb">p</span><span class="p">.</span><span class="nf">association</span> <span class="ss">:address</span>
  <span class="k">end</span>

<span class="c1"># person_spec.rb</span>

<span class="n">it</span> <span class="s2">"builds a valid person with factory girl"</span> <span class="k">do</span>
  <span class="no">Factory</span><span class="p">.</span><span class="nf">build</span><span class="p">(</span><span class="ss">:person</span><span class="p">).</span><span class="nf">should</span> <span class="n">be_valid</span>
<span class="k">end</span>
</pre></table></code></div></div><p>If you run <code class="language-plaintext highlighter-rouge">tail -f log/test.log</code> and you run this spec, you’ll see something like this:</p><pre><code class="language-txt">  AREL (0.5ms)  INSERT INTO "addresses" ("country", "planet", "created_at",
"updated_at") VALUES ('Italy', 'Earth', '2011-06-18 16:45:00.268423',
'2011-06-18 16:45:00.268423')
</code></pre><p>The <code class="language-plaintext highlighter-rouge">Factory.build</code> method has to save dependencies on the DB to set the foreign keys on the objects and validate them.</p><p>Let’s try with machinist:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c1"># person.rb</span>

  <span class="n">validates_presence_of</span> <span class="ss">:address</span>

<span class="c1"># blueprints.rb</span>

  <span class="no">Person</span><span class="p">.</span><span class="nf">blueprint</span> <span class="k">do</span>
    <span class="nb">name</span>     <span class="p">{</span> <span class="s2">"John"</span>       <span class="p">}</span>
    <span class="n">surname</span>  <span class="p">{</span> <span class="s2">"Doe"</span>        <span class="p">}</span>
    <span class="n">address</span>  <span class="p">{</span> <span class="no">Address</span><span class="p">.</span><span class="nf">make</span> <span class="p">}</span>
  <span class="k">end</span>

<span class="c1"># person_spec.rb</span>

<span class="n">it</span> <span class="s2">"builds a valid person with machinist"</span> <span class="k">do</span>
  <span class="no">Person</span><span class="p">.</span><span class="nf">make</span><span class="p">.</span><span class="nf">should</span> <span class="n">be_valid</span>
<span class="k">end</span>
</pre></table></code></div></div><p>This time, running tail on the <code class="language-plaintext highlighter-rouge">test.log</code> file and running the spec, doesn’t shown any DB hit, and of yeah, we have a green test.</p><p>I verified this also by putting a <code class="language-plaintext highlighter-rouge">debugger</code> line after the validation and inspecting the DB from within the debugger after the validation has run - with FactoryGirl, it revealed an <code class="language-plaintext highlighter-rouge">Address</code> object saved on the DB, while with Mechanist it didn’t.</p><p>I still haven’t looked inside machinist to show how it handles this, but I’ll do it soon, so stay tuned!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/posts/">posts</a>, <a href="/categories/technical/">technical</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/db/" class="post-tag no-text-decoration" >db</a> <a href="/tags/factorygirl/" class="post-tag no-text-decoration" >factorygirl</a> <a href="/tags/machinist/" class="post-tag no-text-decoration" >machinist</a> <a href="/tags/rails/" class="post-tag no-text-decoration" >rails</a> <a href="/tags/rspec/" class="post-tag no-text-decoration" >rspec</a> <a href="/tags/test/" class="post-tag no-text-decoration" >test</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Machinist%20vs%20Factory%20Girl:%20Machinist%20win!%20-%20Andrea%20Schiavini&url=https%3A%2F%2Fwww.andreaschiavini.com%2Fposts%2Fmachinist-vs-factory-girl-machinist-win%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Machinist%20vs%20Factory%20Girl:%20Machinist%20win!%20-%20Andrea%20Schiavini&u=https%3A%2F%2Fwww.andreaschiavini.com%2Fposts%2Fmachinist-vs-factory-girl-machinist-win%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.andreaschiavini.com%2Fposts%2Fmachinist-vs-factory-girl-machinist-win%2F&text=Machinist%20vs%20Factory%20Girl:%20Machinist%20win!%20-%20Andrea%20Schiavini" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/github-pages-dns-takeover/">The github pages DNS takeover incident</a><li class="text-truncate lh-lg"> <a href="/posts/build-a-neovim-menu/">Build a neovim menu without external dependencies</a><li class="text-truncate lh-lg"> <a href="/posts/change-vim-colorscheme-based-on-iterm/">Vim - Change Colorscheme Based on Iterm profile</a><li class="text-truncate lh-lg"> <a href="/posts/vim-sort-ruby-methods-by-name/">Vim - sort ruby methods by name</a><li class="text-truncate lh-lg"> <a href="/posts/mocked-a-minitest-pattern/">Mocked - a minitest pattern</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a> <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a> <a class="post-tag btn btn-outline-primary" href="/tags/vim/">vim</a> <a class="post-tag btn btn-outline-primary" href="/tags/oop/">oop</a> <a class="post-tag btn btn-outline-primary" href="/tags/activerecord/">activerecord</a> <a class="post-tag btn btn-outline-primary" href="/tags/db/">db</a> <a class="post-tag btn btn-outline-primary" href="/tags/design/">design</a> <a class="post-tag btn btn-outline-primary" href="/tags/neovim/">neovim</a> <a class="post-tag btn btn-outline-primary" href="/tags/test/">test</a> <a class="post-tag btn btn-outline-primary" href="/tags/textmate/">textmate</a></div></section></div></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/howto-run-a-rake-task-in-sandbox-mode/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1299715200" data-df="ll" > Mar 10, 2011 </time><h4 class="pt-0 my-2">Howto run a rake task in sandbox mode</h4><div class="text-muted"><p>If you have a Rails rake task that somehow changes your DB data, but you want to be sure that the DB will be rolled back to its previous state after the rake task has completed, you can simply incl...</p></div></div></a></article><article class="col"> <a href="/posts/mocked-a-minitest-pattern/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1462924800" data-df="ll" > May 11, 2016 </time><h4 class="pt-0 my-2">Mocked - a minitest pattern</h4><div class="text-muted"><p>Minitest is good for mocking, right? Well… Minitest is gaining a lot of popularity and can actually be a 100% replacement for RSpec. It’s a pure ruby testing framework, it’s fast, light weight, an...</p></div></div></a></article><article class="col"> <a href="/posts/using-virtual-attributes-for-multi-parameter-form-helpers-in-rails/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1319760000" data-df="ll" > Oct 28, 2011 </time><h4 class="pt-0 my-2">Using virtual attributes for multi parameter form helpers in Rails</h4><div class="text-muted"><p>In a Rails application I am working on, I needed to setup a form with a field with a non-standard behaviour. The field represents a Date object, so the date_select FormHelper looked great; however,...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/howto-run-a-rake-task-in-sandbox-mode/" class="btn btn-outline-primary" aria-label="Older" ><p>Howto run a rake task in sandbox mode</p></a> <a href="/posts/using-virtual-attributes-for-multi-parameter-form-helpers-in-rails/" class="btn btn-outline-primary" aria-label="Newer" ><p>Using virtual attributes for multi parameter form helpers in Rails</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2024</time> <a href="https://twitter.com/metalelf0">Andrea Schiavini</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a> <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a> <a class="post-tag btn btn-outline-primary" href="/tags/vim/">vim</a> <a class="post-tag btn btn-outline-primary" href="/tags/oop/">oop</a> <a class="post-tag btn btn-outline-primary" href="/tags/activerecord/">activerecord</a> <a class="post-tag btn btn-outline-primary" href="/tags/db/">db</a> <a class="post-tag btn btn-outline-primary" href="/tags/design/">design</a> <a class="post-tag btn btn-outline-primary" href="/tags/neovim/">neovim</a> <a class="post-tag btn btn-outline-primary" href="/tags/test/">test</a> <a class="post-tag btn btn-outline-primary" href="/tags/textmate/">textmate</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
